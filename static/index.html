<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <title>THE CLAW</title>
    <link rel="icon" href="favicon.ico" />
    <link href="https://unpkg.com/nes.css@2.3.0/css/nes.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
  </head>
  <body>

    <div id="grid-container" class="nes-container with-title is-centered grid-container grid-container-ready">
      <img id="forward-button" src="images/chevron-up-svgrepo-com.svg" class="grid-arrow"/>
      <table>
      <tr>
        <td><img id="left-button" src="images/chevron-left-svgrepo-com.svg" class="grid-arrow"/></td>
        <td>
    <div class="nes-table-responsive">
      <table class="nes-table is-centered grid-table">
        <tbody>
          <tr>
            <th id="grid-back-left"><img class="grid-quad" src="images/8bit-ball.png"></th>
            <th id="grid-back"><img class="grid-quad" src="images/8bit-ball.png"></th>
            <th id="grid-back-right"><img class="grid-quad" src="images/8bit-ball.png"></th>
          </tr>
          <tr>
            <th id="grid-left"><img class="grid-quad" src="images/8bit-ball.png"></th>
            <th><img id="drop-button" style="width:80px" src="./images/arm.jpg"></th>
            <th id="grid-right"><img class="grid-quad" src="images/8bit-ball.png"></th>
          </tr>
          <tr>
            <th id="grid-front-left"><img class="grid-quad" src="images/8bit-ball.png"></th>
            <th class="grid-drop"></th>
            <th id="grid-front-right"><img class="grid-quad" src="images/8bit-ball.png"></th>
          </tr>
        </tbody>
      </table>
    </div>
    </td>
    <td><img id="right-button" src="images/chevron-right-svgrepo-com.svg" class="grid-arrow"/></td>
  </tr></table>
  <img id="back-button" src="images/chevron-down-svgrepo-com.svg" class="grid-arrow"/>

  </div>
  <table>
    <tr><td>
  <img id="avatar" src="images/avatar1.png" class="grid-avatar"/>
  </td>  
  <td>
  <section class="message -left">
    <!-- Balloon -->
    <div class="nes-balloon from-left">
      <p id="instructions"></p>
    </div>
  </section>
</td></tr>  
</table>

   
    <script>
      // avatar text
      function typeWriter(txt, i, speed) {
        let thisSpeed = speed
        let el = document.getElementById("instructions")
        if (i == 0) {
          // clear content and swap avatar
          el.innerHTML = ''
          let randImg = 'images/avatar' + Math.floor(Math.random() * (9 - 1 + 1) + 1) + '.png'
          document.getElementById("avatar").src = randImg
        }
        if (i < txt.length) {
          el.innerHTML += txt.charAt(i);
          if (txt.charAt(i-1) == '.') {
            el.innerHTML = ''
          } else if (txt.charAt(i) == '.') {
            thisSpeed = 1000
          }
          i++;
        } else if (i == txt.length) {
          i = 0;
          thisSpeed = 4000
        }
        setTimeout(function(){typeWriter(txt, i, speed)}, thisSpeed);
      }
      typeWriter('Tap in the grid to move to that area. Tap the arrows for smaller movements. Tap the arm to drop and grab. Good luck, and have fun!', 0, 60)
    </script>
    <script type="module" src="main.js">
    </script>
  </body>
</html>
